{"version":3,"sources":["../../src/pages/app-form-e-app/attach-file-e-app/attach-file-e-app.module.ts","../../src/pages/app-form-e-app/attach-file-e-app/attach-file-e-app.ts","../../src/providers/service-table/attachfile-model.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["//import { AttachFileEAppModalComponent } from './../../components/attach-file-e-app-modal/attach-file-e-app-modal';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AttachFileEAppPage } from './attach-file-e-app';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { DirectivesModule } from '../../../directives/directives.module';\nimport { AttachFileViewModalComponent } from '../../../components/attach-file-view-modal/attach-file-view-modal';\n\n@NgModule({\n  declarations: [\n  ],\n  entryComponents: [\n  ],\n  imports: [\n    ComponentsModule,\n    DirectivesModule,\n    IonicPageModule.forChild(AttachFileEAppPage),\n  ]\n})\nexport class AttachFileEAppPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/app-form-e-app/attach-file-e-app/attach-file-e-app.module.ts","import { ServiceName } from '../../../providers/constants/service-name';\nimport { FunctionName } from '../../../providers/constants/function-name';\nimport { RequestModel } from '../../../providers/model/request-model';\nimport { ApiProvider } from '../../../providers/api/api';\nimport { AttachFileM } from './../../../providers/service-table/attachfile-model';\nimport { ApplicationData } from './../../../providers/application/application-data';\nimport { PcSixtyM } from './../../../providers/pcsixty/pcsixty-model';\nimport { PcsixtyService } from './../../../providers/pcsixty/pcsixty-service';\nimport { isEmpty } from 'rxjs/operators';\nimport { AttachFileViewModalComponent } from '../../../components/attach-file-view-modal/attach-file-view-modal';\nimport { ApplicationEAppData } from '../../../providers/application/application-eapp-data';\nimport { Component, AfterViewInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController } from 'ionic-angular';\nimport { AttachFileEAppModalComponent } from '../../../components/attach-file-e-app-modal/attach-file-e-app-modal';\nimport { LoadingDirective } from '../../../directives/extends/loading/loading';\nimport { Broadcaster } from '../../../providers/utility/broadcaster';\nimport { AlertDirective } from '../../../directives/extends/alert/alert';\n\n/**\n * Generated class for the AttachFileEAppPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-attach-file-e-app',\n  templateUrl: 'attach-file-e-app.html',\n})\nexport class AttachFileEAppPage {\n\n  public attachFileMs: Array<AttachFileM> = [];\n  checkShow: boolean = false;\n\n  /**\n   * ข้อมูลใบเสนอขาย\n   */\n  private quotationM = this.appData.getQuotation();\n\n  /**\n   * ปช.60\n   */\n  private pcSixtyM: PcSixtyM = new PcSixtyM();\n\n  /**\n   * มีเอกสาร ปช.60\n   */\n  private hasPcSixty: boolean = false;\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private modalCtrl: ModalController,\n    private loadingCtrl: LoadingDirective,\n    private alertCtrl: AlertDirective,\n    private applicationEAppData: ApplicationEAppData,\n    private appData: ApplicationData,\n    private broadcaster: Broadcaster,\n    private pcsixtyservice: PcsixtyService,\n    private apiProvider: ApiProvider) {\n\n       this.selectAttachFile();\n       \n       // select pc60\n        this.pcSixtyM.applicationid = this.quotationM.mcaapplicationMs[0].applicationid;\n        this.pcsixtyservice.selectPcSixtyService(this.pcSixtyM).then((res: PcSixtyM) => {\n          if (typeof res != 'undefined') {\n            this.pcSixtyM = res;\n            this.hasPcSixty = true;\n          }\n        }, err => {\n          this.alertCtrl.error(err);\n        });\n  }\n  \n  /**\n   * ดึงข้อมูลเอกสารแนบทั้งหมด\n   */\n  public selectAttachFile() {\n\n    let attachFileM: AttachFileM = new AttachFileM();\n    attachFileM.applicationid = this.quotationM.mcaapplicationMs[0].applicationid;\n    attachFileM.applicationno = this.quotationM.mcaapplicationMs[0].applicationno;\n\n    let attachFileMs: Array<AttachFileM> = [];\n    attachFileMs.push(attachFileM);\n\n    let reqM: RequestModel = new RequestModel();\n    reqM.functionName = FunctionName.ATTACHFILE;\n    reqM.serviceName = ServiceName.SELECT;\n    reqM.param = attachFileMs;\n\n    this.applicationEAppData.attachFileMs = [];\n\n    this.apiProvider.callData(reqM).then((res) => {\n      if (Number(res['size']) > 0) {\n       this.attachFileMs = res['data'];\n       this.applicationEAppData.attachFileMs = res['data'];\n       this.broadcaster.broadcast('attachfilesize', Number(res['size']));\n      }\n    } , (err) => {\n      this.alertCtrl.error(err);\n    });\n\n  }\n\n  uploadImage() {\n\n    let loading = this.loadingCtrl.scopePresent();\n    let modal = this.modalCtrl.create(AttachFileEAppModalComponent);\n    modal.present();\n\n    this.loadingCtrl.scopeDismiss(loading);\n\n    /**\n     * ดึงภาพกลับมารอ insert\n     */\n    modal.onDidDismiss(res => {\n\n      let attachFile: AttachFileM = new AttachFileM();\n      attachFile.applicationid = this.quotationM.mcaapplicationMs[0].applicationid;\n      attachFile.applicationno = this.quotationM.mcaapplicationMs[0].applicationno;\n      attachFile.filetype = res.filetype;\n      attachFile.attribute01 = res.attribute01;\n      attachFile.attribute02 = res.attribute02;\n      attachFile.attribute03 = res.attribute03;\n\n      if (attachFile.attribute03 != '') {\n\n        let attachFileMs: Array<AttachFileM> = [];\n        attachFileMs.push(attachFile);\n\n        let reqM: RequestModel = new RequestModel();\n        reqM.functionName = FunctionName.ATTACHFILE;\n        reqM.serviceName = ServiceName.INSERT;\n        reqM.param = attachFileMs;\n\n        this.loadingCtrl.present();\n        this.apiProvider.callData(reqM).then((res) => {\n          \n          this.loadingCtrl.dismiss();\n\n          if (Number(res['size'] > 0)) {\n\n            attachFile.attachid = res['data'][0].attachid;\n            attachFile.fullpath = res['data'][0].fullpath;\n\n            this.attachFileMs.push(attachFile);\n            this.applicationEAppData.attachFileMs = this.attachFileMs;\n            this.broadcaster.broadcast('attachfilesize', this.applicationEAppData.attachFileMs.length);\n          }\n\n        }, (err) => {\n          this.loadingCtrl.dismiss();\n          this.alertCtrl.error(err);\n        });\n\n        this.checkShow = true;\n      }\n\n    });\n\n  }\n\n  saveEAppPhotoModal() {\n    alert('saveEAppPhotoModal ')\n  }\n\n  /**\n   * ลบเอกสารแนบ\n   */\n  async deleteDoc(index: any, item: any) {\n\n    this.alertCtrl.confiemBox(`ยืนยันการลบ`).then(res => {\n\n      if (item.attachid != undefined) {\n        let attachFileM: AttachFileM = new AttachFileM();\n        attachFileM.applicationid = item.applicationid;\n        attachFileM.attachid = item.attachid;\n    \n        let attachFileMs: Array<AttachFileM> = [];\n        attachFileMs.push(attachFileM);\n    \n        let reqM: RequestModel = new RequestModel();\n        reqM.functionName = FunctionName.ATTACHFILE;\n        reqM.serviceName = ServiceName.DELETE;\n        reqM.param = attachFileMs;\n    \n        this.loadingCtrl.present();\n        this.apiProvider.callData(reqM).then((res) => {\n          \n          this.loadingCtrl.dismiss();\n  \n          this.attachFileMs.splice(index, 1);\n          this.applicationEAppData.attachFileMs = this.attachFileMs;\n          this.broadcaster.broadcast('attachfilesize', this.applicationEAppData.attachFileMs.length);\n    \n        } , (err) => {\n          this.loadingCtrl.dismiss();\n          this.alertCtrl.error(err);\n        });\n\n      }\n      else {\n        this.attachFileMs.splice(index, 1);\n        this.applicationEAppData.attachFileMs = this.attachFileMs;\n        this.broadcaster.broadcast('attachfilesize', this.applicationEAppData.attachFileMs.length);\n      }\n     \n    }).catch(err => {\n      console.error(err);\n    });\n  }\n\n  /**\n   * ดูรูปเอกสารแนบโดยไปดึงมาจาก Alfresco server.\n   */\n  viewDoc(item: any) {\n\n    if (item.fullpath != undefined && item.fullpath != '') {\n\n      let attachFileM: AttachFileM = new AttachFileM();\n      attachFileM.applicationid = this.quotationM.mcaapplicationMs[0].applicationid;\n      attachFileM.applicationno = this.quotationM.mcaapplicationMs[0].applicationno;\n      attachFileM.fullpath = item.fullpath;\n\n      let attachFileMs: Array<AttachFileM> = [];\n      attachFileMs.push(attachFileM);\n\n      let reqM: RequestModel = new RequestModel();\n      reqM.functionName = FunctionName.ATTACHFILE;\n      reqM.serviceName = ServiceName.SELECT;\n      reqM.searchkey = 'IMAGE_BASE64';\n      reqM.param = attachFileMs;\n\n      this.loadingCtrl.present();\n      this.apiProvider.callData(reqM).then((res) => {\n        this.loadingCtrl.dismiss();\n        if (Number(res['size']) > 0) {\n          item['attribute01'] = res['data'][0].attribute01;\n          let modal = this.modalCtrl.create(AttachFileViewModalComponent, { item: item });\n          modal.present();\n        }\n      } , (err) => {\n        this.loadingCtrl.dismiss();\n        this.alertCtrl.error(err);\n      });\n\n    }\n    else {\n      let modal = this.modalCtrl.create(AttachFileViewModalComponent, { item: item });\n      modal.present();\n    }\n    \n  }\n\n  /**\n   * ดูเอกสาร ปช.60\n   */\n  private viewDocPC60() {\n    this.loadingCtrl.present();\n    this.navCtrl.push('Pc60Page', { pcSixtyM: this.pcSixtyM }).then(() => {\n      this.loadingCtrl.dismiss();\n    });\n  }\n\n  /**\n   * ลบเอกสาร ปช.60\n   */\n  private deleteDocPC60() {\n    this.alertCtrl.confiemBox('ยืนยันการลบ').then(res => {\n      this.pcsixtyservice.deletePcSixtyService(this.pcSixtyM).then(() => {\n        this.pcSixtyM = new PcSixtyM();\n        this.hasPcSixty = false;\n      }, err => {\n        this.alertCtrl.error(err);\n      });\n\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/app-form-e-app/attach-file-e-app/attach-file-e-app.ts","export class AttachFileM {\r\n\r\n    applicationid : string;\r\n    applicationno : string;\r\n    attachid : string;\r\n    attribute01 : string; // base64 img\r\n    attribute02 : string; // type doc id\r\n    attribute03 : string; // type doc desc\r\n    filename : string;\r\n    filesubtype : string;\r\n    filetype : string; // jpeg\r\n    fullpath : string;\r\n    regdate : string;\r\n    regid : string;\r\n    updatedate : string;\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/service-table/attachfile-model.ts"],"sourceRoot":""}