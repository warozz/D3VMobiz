{"version":3,"sources":["../../src/pages/app-form-e-app/send-all-file-e-app/send-all-file-e-app.module.ts","../../src/pages/app-form-e-app/send-all-file-e-app/send-all-file-e-app.ts"],"names":[],"mappings":"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","file":"74.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SendAllFileEAppPage } from './send-all-file-e-app';\n\n@NgModule({\n  declarations: [\n    //SendAllFileEAppPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SendAllFileEAppPage),\n  ],\n})\nexport class SendAllFileEAppPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/app-form-e-app/send-all-file-e-app/send-all-file-e-app.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ApplicationEAppData } from '../../../providers/application/application-eapp-data';\nimport { ApplicationData } from '../../../providers/application/application-data';\nimport { MCAapplicationsM } from '../../../providers/service-table/mcaapplications-model';\nimport { RequestModel } from '../../../providers/model/request-model';\nimport { FunctionName } from '../../../providers/constants/function-name';\nimport { ServiceName } from '../../../providers/constants/service-name';\nimport { ApiProvider } from \"../../../providers/api/api\";\nimport { AlertDirective } from '../../../directives/extends/alert/alert';\nimport { PaymentM } from '../../../providers/service-table/payment-model';\nimport { Broadcaster } from '../../../providers/utility/broadcaster';\nimport { Subscription } from 'rxjs/Rx';\nimport { LoadingDirective } from '../../../directives/extends/loading/loading';\n\n/**\n * Generated class for the SendAllFileEAppPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-send-all-file-e-app',\n  templateUrl: 'send-all-file-e-app.html',\n})\nexport class SendAllFileEAppPage {\n\n  private statusSubmit = false;\n  public applicationid;\n  public paymentStatus;\n  public pname;\n  public fname;\n  public lname;\n  public dateSubmit: string | Date | number;\n  public totalFile;\n  private subscription: Array<Subscription> = [];\n  private isPurchaseComplete: Boolean = false;\n \n  constructor(private alertCtrl: AlertDirective, \n    private apiProvider: ApiProvider,\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private appData: ApplicationData,\n    private applicationEAppData: ApplicationEAppData,\n    private loadingCtrl: LoadingDirective,\n    private broadcaster: Broadcaster) {\n\n    const data = this.appData.getQuotation();\n    this.applicationid = data.applicationid;\n    this.pname = data.pname;\n    this.fname = data.fname;\n    this.lname = data.lname;\n\n    this.subscription.push(this.broadcaster.on('attachfilesize').subscribe(res => {\n      this.totalFile = res;\n    }));\n\n    this.subscription.push(this.broadcaster.on('paymentStatus').subscribe(res => {\n      this.paymentStatus = res;\n    }));\n \n    //this.paymentStatus = '01';\n    this.dateSubmit = Date.now(); \n\n  }\n\n  public ngOnDestroy() {\n    this.subscription.forEach(res => {\n      res.unsubscribe();\n    });\n  }\n\n  sendApp(){ \n  \n    this.statusSubmit = false;\n    \n\n    let loading = this.loadingCtrl.scopePresent();\n    this.applicationEAppData.insertApplicationEAppData(\"SUMBIT_NBAPP\").then(\n      (res) => {\n        this.loadingCtrl.scopeDismiss(loading);\n        \n        console.log(\"insertApplicationEAppData success : \" + JSON.stringify(res));\n        this.statusSubmit = true;         \n        this.alertCtrl.warning(\"ส่งใบคำขอเรียบร้อย\");\n      },\n      (err) => {\n        this.loadingCtrl.scopeDismiss(loading);\n        \n        console.log(\"insertApplicationEAppData error : \" + JSON.stringify(err));\n        this.statusSubmit = false;\n        this.alertCtrl.warning(\"ไม่สามารถส่งใบคำขอได้\");\n      }\n    );\n\n  }\n  \n  public reqApplicationStatus() {\n\n      let objM: MCAapplicationsM = new MCAapplicationsM();\n      objM.applicationid = this.appData.getApplicationId();\n      let objMs: Array<MCAapplicationsM> = [];\n      objMs.push(objM);\n\n      let reqM: RequestModel = new RequestModel();\n      reqM.functionName = FunctionName.MCAAPPLICATIONS;\n      reqM.serviceName = ServiceName.SELECT;\n      reqM.param = objMs;\n\n      this.apiProvider.callData(reqM).then(\n        (res) => {\n\n          if (res['size'] && res['size'] > 0) {\n            if (\"04\" == res['data'][0].applicationstatus) {\n              this.statusSubmit = true;\n              this.dateSubmit = res['data'][0].submitdate;\n            }\n          }\n        },\n        (err) => {\n          console.log(JSON.stringify(err));\n        }\n      );\n\n  }\n  \n  ionViewDidLoad() {\n    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/app-form-e-app/send-all-file-e-app/send-all-file-e-app.ts"],"sourceRoot":""}