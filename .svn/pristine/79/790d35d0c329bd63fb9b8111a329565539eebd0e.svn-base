{"version":3,"sources":["../../src/pages/app-form/app-form.module.ts","../../src/pages/app-form/app-form.ts"],"names":[],"mappings":"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","file":"54.js","sourcesContent":["import { PipesModule } from './../../pipes/pipes.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AppFormPage } from './app-form';\nimport { ComponentsModule } from './../../components/components.module';\nimport { DirectivesModule } from './../../directives/directives.module';\n\n@NgModule({\n  declarations: [\n    AppFormPage,\n  ],\n  imports: [\n    ComponentsModule,\n    DirectivesModule,\n    PipesModule,\n    IonicPageModule.forChild(AppFormPage),\n  ],\n})\nexport class AppFormPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/app-form/app-form.module.ts","\nimport { MatPaginator } from '@angular/material';\nimport { ApplicationData } from './../../providers/application/application-data';\nimport { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController } from 'ionic-angular';\nimport { QuotationModel } from '../../providers/quotation/quotation-model';\nimport { RequestModel } from '../../providers/model/request-model';\nimport { FunctionName } from '../../providers/constants/function-name';\nimport { ServiceName } from '../../providers/constants/service-name';\nimport { ApiProvider } from \"../../providers/api/api\";\nimport { LoadingDirective } from '../../directives/extends/loading/loading';\nimport { AlertDirective } from '../../directives/extends/alert/alert';\nimport { AppDetailModalComponent } from '../../components/app-detail-modal/app-detail-modal';\nimport { DateFormatProvider } from '../../providers/date-format/date-format';\nimport { QuatationValueCal } from '../../providers/utility/quatation-value-cal';\nimport * as _ from 'lodash';\n/**\n * Generated class for the AppFormPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  segment: 'ใบคำขอ'\n})\n@Component({\n  selector: 'page-app-form',\n  templateUrl: 'app-form.html',\n})\nexport class AppFormPage {\n  public sortFlag: string = '';\n  public selectProperty: string = '';\n  public temp;\n  public quotation = [];\n  public quotationAll = [];\n\n  keyvalue: string = '';\n  pageSize: number = 10;\n  pageNo: number = 1;\n  totalPage: number = 10;\n  totalRecord: number = 0;\n  orderBy: string = '';\n  orderType: string = '';\n  filterBy: string = '00';\n  isFirstLoad: boolean = false;\n\n  @ViewChild(MatPaginator) private paginator: MatPaginator;\n  \n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private apiProvider: ApiProvider,\n    private appData: ApplicationData,\n    private loadingCtrl: LoadingDirective,\n    private alertCtrl: AlertDirective,\n    private modalCtrl: ModalController,\n    public dateFormatProvider: DateFormatProvider,\n    public QuatationValueCal: QuatationValueCal) {\n    this.isFirstLoad = true;\n  }\n\n  async sort(property) {\n    if(this.selectProperty != property) {\n      this.sortFlag = 'ASC';\n    } else {\n      if(this.sortFlag === 'ASC') {\n        this.sortFlag = 'DESC';\n      } else {\n        this.sortFlag = 'ASC';\n      }\n    }\n    this.selectProperty = property;\n    this.searchAll();\n    \n  }\n\n  /**\n   * ค้นหาใบคำขอ\n   * @param text ข้อความค้นหา\n   */\n  public changeFilter(value) {\n    this.pageNo = 1;\n    this.filterBy = value;\n    this.searchAll();\n  }\n \n  changeSize(size) {\n    this.pageSize = size;\n    this.searchAll();\n  }\n\n  setDefault() {\n    this.selectProperty = '';\n    this.sortFlag = '';\n    this.pageSize = 10;\n    this.pageNo = 1;\n    this.filterBy = '00';\n    this.keyvalue = '';\n  }\n\n  changePage(event) {\n    if(event === 'increase') {\n      this.pageNo++;\n      if(this.pageNo > this.totalPage) return this.pageNo--;\n    } \n    if(event === 'decrease') {\n      this.pageNo--;\n      if(this.pageNo < 1) return this.pageNo++;\n    }\n    this.searchAll();\n  }\n\n  defaultSearchAll() {\n    this.setDefault();\n    this.searchAll();\n  }\n\n  public searchAll() {\n    //console.log(this);\n    let loading = this.loadingCtrl.scopePresent();\n    let objM: QuotationModel = new QuotationModel();\n\n    let objMs: Array<QuotationModel> = [];\n    objMs.push(objM);\n\n    let reqM: RequestModel = new RequestModel();\n    reqM.keyvalue = this.keyvalue;\n\n    reqM.functionName = FunctionName.QUOTATION;\n    reqM.serviceName = ServiceName.SELECT;\n    reqM.param = objMs;\n    reqM.pagingMode = true;\n    reqM.orderBy = this.selectProperty; //NAME, PLAN, LIFESUM, REFID, APPID, STATUS, TYPE, DATE\n    reqM.orderType = this.sortFlag; // DESC, ASC\n    reqM.pageSize = this.pageSize; //จำนวนแถวต่อหน้า\n    reqM.pageNo = this.pageNo; //หน้าที่\n    reqM.filterBy = this.filterBy; //filter\n    if (this.isFirstLoad) {\n      reqM.searchkey = '1';\n      this.isFirstLoad = false;\n    }\n\n    this.apiProvider.callData(reqM).then(\n      (res) => {\n        //console.log(\"search All ====> \", res);\n        this.pageNo = res['pageNo'];\n        this.pageSize = res['pageSize'];\n        this.totalPage = res['pageTotal'];\n        this.totalRecord = res['totalRecord'];\n        //console.log(\"XXX = \" + JSON.stringify(res));\n\n        this.loadingCtrl.scopeDismiss(loading);\n        this.temp = res;\n        if (this.temp.status == 0 && this.temp.data.length > 0) {\n          let quotationModelArr: QuotationModel[] = this.temp.data;\n          this.quotation = [];\n          quotationModelArr.forEach(element => {\n            this.quotation.push(element);\n          });\n\n          this.quotationAll = this.quotation;\n        }\n        else {\n          this.quotation = [];\n        }\n        \n      },\n      (err) => {\n        console.log('err : ', err);\n        this.loadingCtrl.scopeDismiss(loading);\n        this.alertCtrl.error(err);\n      }\n    );\n  }\n\n  public search(i) {\n\n    this.filterBy = '00';\n    this.pageNo = 1;  \n    this.selectProperty = \"\";\n    this.sortFlag = \"\";\n\n    if (!i) {\n      this.alertCtrl.warning('กรุณาระบุข้อมูลที่ต้องการค้นหา');\n      return;\n    } \n    this.keyvalue = i;\n    this.searchAll();\n  }\n\n  createApplication(item) {\n\n    this.loadingCtrl.present();\n    this.appData.setQuotation(item).then(\n      (res)=> {\n        console.log('res : ', res);\n        if(item.typeapp == 'ULink'){\n          this.navCtrl.push('AppFormUlinkPage').then(() => {\n            this.loadingCtrl.dismiss();\n          });\n        }\n        else {\n          this.navCtrl.push('AppApplicationPage').then(() => {\n            this.loadingCtrl.dismiss();\n          });\n        }\n        \n      },\n      (err)=> {\n        console.log('err : ', err);\n        this.loadingCtrl.dismiss();\n      });\n   \n  }\n\n  viewApplication(item) {\n\n    this.appData.setQuotation(item).then(\n      (res)=> {\n        if (item.typeapp == 'ULink') { // เข้าหน้า Ulink\n          this.loadingCtrl.present();\n          this.navCtrl.push('AppFormUlinkPage').then(() => {\n            this.loadingCtrl.dismiss();\n          });\n        } else {\n          let modal = this.modalCtrl.create(AppDetailModalComponent, this.quotation[item]);\n          modal.present(); \n      \n          modal.onDidDismiss(data => {\n            if (data != null) {\n              this.loadingCtrl.present();\n              this.navCtrl.push(data.page, data).then(() => {\n                this.loadingCtrl.dismiss();\n              });\n            }\n          });\n        }\n      },\n      (err)=> {\n        console.log('err : ', err);\n        this.loadingCtrl.dismiss();\n      }\n    );\n\n    // this.appData.setQuotation(item);\n    // if (item.typeapp == 'ULink') { // เข้าหน้า Ulink\n    //   this.loadingCtrl.present();\n    //   this.navCtrl.push('AppFormUlinkPage').then(() => {\n    //     this.loadingCtrl.dismiss();\n    //   });\n    // } else {\n    //   let modal = this.modalCtrl.create(AppDetailModalComponent, this.quotation[item]);\n    //   modal.present(); \n  \n    //   modal.onDidDismiss(data => {\n    //     if (data != null) {\n    //       this.loadingCtrl.present();\n    //       this.navCtrl.push(data.page, data).then(() => {\n    //         this.loadingCtrl.dismiss();\n    //       });\n    //     }\n    //   });\n    // }\n  }\n\n  /**\n   * ลบใบเสนอขายที่ยังไม่มีเลข ReferanceNo.\n   */\n  async deleteApplication(item) {\n    try {\n      const messageAlert = `ท่านต้องการลบ ข้อมูล คุณ ${item.fname} ${item.lname} หรือไม่\n        <br>หากต้องการกด ตกลง ข้อมูลทั้งหมดในการนำเสนอขายจะถูกลบไม่สามารถเรียกกลับมาแสดงได้อีก \n        <br>หากไม่ต้องการ กด ยกเลิก`;\n      await this.alertCtrl.confiemBox(`${messageAlert}`);\n\n      let loading = this.loadingCtrl.scopePresent();\n\n      let objM: QuotationModel = new QuotationModel();\n      objM.quotationno = item.quotationno;\n      objM.customerid = item.customerid;\n\n      let objMs: Array<QuotationModel> = [];\n      objMs.push(objM);\n\n      let reqM: RequestModel = new RequestModel();\n      reqM.functionName = FunctionName.QUOTATION;\n      reqM.serviceName = ServiceName.DELETE;\n      reqM.param = objMs;\n\n      this.apiProvider.callData(reqM).then(\n        (res) => {\n          this.searchAll();\n          this.alertCtrl.warning('ลบสำเร็จ');\n          this.loadingCtrl.scopeDismiss(loading);\n        },\n        (err) => {\n          console.log('err : ', err);\n          this.alertCtrl.error(err);\n          this.loadingCtrl.scopeDismiss(loading);\n        }\n      );\n\n    }\n    catch (e) {\n      console.error(e);\n      if (e !== 'cancel') {\n        throw e;\n      }\n    }\n  }\n\n  ngOnInit() {\n     this.searchAll();\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/app-form/app-form.ts"],"sourceRoot":""}