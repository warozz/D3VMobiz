{"version":3,"sources":["../../src/pages/investment/ulink-child/ulink-child.module.ts","../../src/pages/investment/ulink-child/ulink-child.ts"],"names":[],"mappings":"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","file":"39.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UlinkChildPage } from './ulink-child';\n\n@NgModule({\n  declarations: [\n  ],\n  imports: [\n    IonicPageModule.forChild(UlinkChildPage),\n  ],\n})\nexport class UlinkChildPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/investment/ulink-child/ulink-child.module.ts","import { NavParams } from 'ionic-angular/navigation/nav-params';\nimport { Component } from '@angular/core';\nimport {IonicPage} from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { UlinkAppDataProvider } from '../../../providers/ulink-app-data/ulink-app-data';\nimport {ProspectModel, } from '../../../providers/prospect/prospect-model';\nimport { ExampleBenefitModel } from '../../../providers/ulink-benefit/example-benefit-model/example-benefit';\nimport { ExampleChildModel } from '../../../providers/ulink-benefit/example-benefit-model/example-child';\nimport { UnitlinkDataProvider } from '../../../providers/ulink-app-data/unitlink-data';\nimport { Broadcaster } from '../../../providers/utility/broadcaster';\n\n@IonicPage()\n@Component({\n  selector: 'page-ulink-child',\n  templateUrl: 'ulink-child.html',\n})\nexport class UlinkChildPage {\n\n  private ulinkChild: FormGroup;\n  private prospect:ProspectModel =  new ProspectModel();\n  private child: boolean = false;\n  \n  constructor(\n  \n    private fb: FormBuilder,\n    private ulinkData: UlinkAppDataProvider,\n    private navParams:NavParams,\n    private broadcaster: Broadcaster,\n    private unitlinkData: UnitlinkDataProvider\n   \n  ) {\n    this.prospect = this.navParams.get('prospect');\n\n    this.ulinkChild = this.fb.group({\n      // คำนำหน้า\n      pname: ['', Validators.required],\n      // ชื่อ\n      fname: ['', Validators.required],\n      // นามสกุล\n      lname: ['', Validators.required],\n      // เพศ\n      sex:  ['', Validators.required],\n      // อายุปัจจุบัน\n      agestart: [null, Validators.required],\n      // การคุ้มครองถึงอายุ\n      ageend: [null, Validators.required],\n    });\n    this.ulinkData.ulinkChild = this.ulinkChild;\n\n    if(this.unitlinkData.editData){\n      this.setEditData();\n    }\n   \n\n  }\n\n  ngAfterViewInit(): void {\n    this.ulinkChild.get('agestart').valueChanges.subscribe(data => { \n      //console.log(\"agestart ===> \",data);\n      this.child = data > 14 ? false: true;\n      this.checkPreName();\n      this.choosePreNameByAgeAndSex();\n\n      this.broadcaster.broadcast('investBenefitResetData', true);\n    });\n\n    this.ulinkChild.get('ageend').valueChanges.subscribe(data => { \n      this.broadcaster.broadcast('investBenefitResetData', true);\n    });\n  }\n\n  private checkPreName(): void {\n    if (Number(this.ulinkChild.get('agestart').value) > 14) {\n      switch (this.ulinkChild.get('pname').value) {\n        case 'เด็กชาย' :\n        this.ulinkChild.get('pname').setValue('นาย');\n          break;\n        case 'เด็กหญิง':\n        this.ulinkChild.get('pname').setValue('นางสาว');\n      }\n    }\n    // เด็ก\n    else {\n      switch (this.ulinkChild.get('pname').value) {\n        case 'นาย':\n        this.ulinkChild.get('pname').setValue('เด็กชาย');\n          break;\n        case 'นาง': case 'นางสาว':\n        this.ulinkChild.get('pname').setValue('เด็กหญิง');\n      }\n    }\n  }\n\n  private choosePreNameByAgeAndSex(): void {\n    if (this.child) {\n      switch (this.ulinkChild.get('sex').value) {\n        case 'M':\n        this.ulinkChild.get('pname').setValue('เด็กชาย');\n          break;\n        case 'F':\n        this.ulinkChild.get('pname').setValue('เด็กหญิง');\n      }\n    }\n    else {\n      switch (this.ulinkChild.get('sex').value) {\n        case 'M' :\n        this.ulinkChild.get('pname').setValue('นาย');\n          break;\n        case 'F':\n        this.ulinkChild.get('pname').setValue('นางสาว');\n      }\n    }\n  }\n\n  private setEditData() {\n    console.log('set Edit Data --->Child');\n    let exampleBenefit : ExampleBenefitModel = this.ulinkData.getExampleBenefit();\n    if(typeof exampleBenefit  != 'undefined'){\n\n      if(exampleBenefit['benefitname'] == 'educate'){\n\n        let exampleChild : ExampleChildModel = exampleBenefit.examplechild;\n        this.ulinkChild.get('pname').setValue(exampleChild.pname);\n        this.ulinkChild.get('fname').setValue(exampleChild.fname);\n        this.ulinkChild.get('lname').setValue(exampleChild.lname);\n        this.ulinkChild.get('sex').setValue(exampleChild.sex);\n        this.ulinkChild.get('agestart').setValue(exampleChild.agestart);\n        this.ulinkChild.get('ageend').setValue(exampleChild.ageend);\n        // this.ulinkChild = this.fb.group({\n        //   pname: [ exampleChild.pname, Validators.required],\n        //   fname: [exampleChild.fname, Validators.required],\n        //   lname: [exampleChild.lname, Validators.required],\n        //   sex:  [exampleChild.sex, Validators.required],\n        //   agestart: [exampleChild.agestart, Validators.required],\n        //   ageend: [exampleChild.ageend, Validators.required],\n        // });\n        // this.ulinkData.ulinkChild = this.ulinkChild;\n      }\n\n    }\n  }\n\n  /**\n   * เปิด ปิด เพศ\n   * @param disable \n   */\n  private disabledSex(disable: boolean) {\n    if (disable)\n      this.ulinkChild.controls['sex'].disable();\n    else\n      this.ulinkChild.controls['sex'].enable();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/investment/ulink-child/ulink-child.ts"],"sourceRoot":""}